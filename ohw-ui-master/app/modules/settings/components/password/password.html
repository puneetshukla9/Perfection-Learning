<!-- Main Panel -->
<div id="rightPanel" class="fullSize">

	<nav class="navbar navbar-inverse">
		<a class="navbar-brand">Change Password</a>
	</nav>

	<div ng-form="formPassword" class="settings-password-form form-horizontal center" role="form">
		<br/>
		<div class="form-group" ng-class="{ 'has-error': formPassword.curPassword.$invalid && formPassword.curPassword.$touched }">
			<label class="col-md-3 col-xs-3 text-right" for="curPassword">Current Password:</label>
			<div class="col-md-6 col-xs-6">
				<input class="form-control"
					required
					ng-model="ctrl.pw"
					name="curPassword"
					type="password" placeholder="Current Password">
				<span class="glyphicon glyphicon-remove form-control-feedback"
					ng-if="formPassword.curPassword.$invalid && formPassword.curPassword.$touched"></span>
			</div>
			<div ng-show="formPassword.curPassword.$invalid && formPassword.curPassword.$touched" class="validation-message col-md-2 col-xs-2">
				<span>Current password is required.</span>
			</div>
		</div>

		<div class="form-group">
			<div class="col-md-6 col-md-offset-3 col-xs-6 col-xs-offset-3">
				<p class="help-text">Passwords must be at least 6 characters long, and include a lowercase letter, uppercase letter and number.</p>
			</div>
		</div>

		<div
			class="form-group"
			ng-class="{ 'has-error': (formPassword.newPassword.$invalid && formPassword.newPassword.$touched) }">
			<label class="col-md-3 col-xs-3 text-right" for="curPassword">New Password:</label>
			<div class="col-md-6 col-xs-6">
				<input
					required
					ng-pattern="ctrl.passwordPattern"
					type="password"
					ng-model="ctrl.newPw"
					name="newPassword" type="text" class="form-control" placeholder="New Password">
				<span class="glyphicon glyphicon-remove form-control-feedback"
					ng-show="(formPassword.newPassword.$invalid && formPassword.newPassword.$touched)"></span>
			</div>
			<div ng-show="(formPassword.newPassword.$invalid && formPassword.newPassword.$touched)"
					class="validation-message col-md-2 col-xs-2">
				<span>New password is required and must be at least six digits and contain at least one uppercase, one lowercase, and one numeric character.</span>
			</div>
		</div>

		<div
			class="form-group"
			ng-class="{ 'has-error': (formPassword.retypePw.$invalid && formPassword.retypePw.$touched) ||
								(ctrl.retypePw && (ctrl.newPw !== ctrl.retypePw))}">
			<label class="col-md-3 col-xs-3 text-right" for="password">Confirm Password:</label>
			<div class="col-md-6 col-xs-6">
				<input
					required
					ng-model="ctrl.retypePw"
					name="retypePw"
					type="password" class="form-control" placeholder="Confirm Password">
				<span class="glyphicon glyphicon-remove form-control-feedback"
					ng-show="(formPassword.retypePw.$invalid && formPassword.retypePw.$touched) ||
									(ctrl.retypePw && (ctrl.newPw !== ctrl.retypePw))"></span>
			</div>
			<div ng-show="(formPassword.retypePw.$invalid && formPassword.retypePw.$touched) ||
										(ctrl.retypePw && (ctrl.newPw !== ctrl.retypePw))"
				class="validation-message col-md-2 col-xs-2">
				<span>Both passwords must match.</span>
			</div>
		</div>

		<div
			class="form-group">
			<div class="col-md-8 col-xs-8 col-md-offset-1 col-xs-offset-1">
				<button
					ng-click="ctrl.updatePassword();"
					type="submit"
					ng-disabled="formPassword.$invalid || (ctrl.newPw !== ctrl.retypePw)"
					class="pull-right btn btn-large btn-primary">Submit</button>
			</div>
		</div>

	</div>

		</div>
	</div>
</div>
